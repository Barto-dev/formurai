(()=>{var ve=Object.create;var G=Object.defineProperty;var Ye=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Ze=Object.getPrototypeOf,Ke=Object.prototype.hasOwnProperty;var Je=(e,r,t)=>r in e?G(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var Xe=e=>G(e,"__esModule",{value:!0});var n=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var rt=(e,r,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Qe(r))!Ke.call(e,i)&&i!=="default"&&G(e,i,{get:()=>r[i],enumerable:!(t=Ye(r,i))||t.enumerable});return e},et=e=>rt(Xe(G(e!=null?ve(Ze(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var N=(e,r,t)=>(Je(e,typeof r!="symbol"?r+"":r,t),t),ur=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var u=(e,r,t)=>(ur(e,r,"read from private field"),t?t.call(e):r.get(e)),f=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},c=(e,r,t,i)=>(ur(e,r,"write to private field"),i?i.call(e,t):r.set(e,t),t);var o=n((Jt,nr)=>{nr.exports={isPrimitiveValue(e){return!!(typeof e=="string"||typeof e=="number"&&isFinite(e)||typeof e=="boolean")},looksLikeNumber(e){return!isNaN(+e)},isObject(e){return Object(e)===e&&Object.getPrototypeOf(e)===Object.prototype},isEmptyObject(e){for(let r in e)if(e.hasOwnProperty(r))return!1;return!0},escapeRegExp(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isNoValue(e){return e==null||e===""}}});var _=n((Xt,lr)=>{"use strict";var B=o(),U={},or=0,W=class{constructor(r,t){this.isPrepared=!1,this.livrRules=r,this.validators={},this.validatorBuilders={},this.errors=null,t!=null?this.isAutoTrim=t:this.isAutoTrim=or,this.registerRules(U)}static getDefaultRules(){return U}static registerAliasedDefaultRule(r){if(!r.name)throw"Alias name required";U[r.name]=this._buildAliasedRule(r.rules,r.error)}static registerDefaultRules(r){for(let t in r)U[t]=r[t]}static defaultAutoTrim(r){or=!!r}static _buildAliasedRule(r,t){if(!r)throw"Alias rules required";let i={value:r};return s=>{let a=new W(i).registerRules(s).prepare();return(l,h,p)=>{let m=a.validate({value:l});if(m){p.push(m.value);return}else return t||a.getErrors().value}}}prepare(){let r=this.livrRules;for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);let s=[];for(let a of i){let l=this._parseRule(a);s.push(this._buildValidator(l.name,l.args))}this.validators[t]=s}return this.isPrepared=!0,this}validate(r){if(this.isPrepared||this.prepare(),!B.isObject(r)){this.errors="FORMAT_ERROR";return}this.isAutoTrim&&(r=this._autoTrim(r));let t={},i={};for(let s in this.validators){let a=this.validators[s];if(!a||!a.length)continue;let l=r[s];for(let h of a){let p=[],m=h(i.hasOwnProperty(s)?i[s]:l,r,p);if(m){t[s]=m;break}else p.length?i[s]=p[0]:r.hasOwnProperty(s)&&!i.hasOwnProperty(s)&&(i[s]=l)}}return B.isEmptyObject(t)?(this.errors=null,i):(this.errors=t,!1)}getErrors(){return this.errors}registerRules(r){for(let t in r)this.validatorBuilders[t]=r[t];return this}registerAliasedRule(r){if(!r.name)throw"Alias name required";return this.validatorBuilders[r.name]=this.constructor._buildAliasedRule(r.rules,r.error),this}getRules(){return this.validatorBuilders}_parseRule(r){let t,i;return B.isObject(r)?(t=Object.keys(r)[0],i=r[t],Array.isArray(i)||(i=[i])):(t=r,i=[]),{name:t,args:i}}_buildValidator(r,t){if(!this.validatorBuilders[r])throw"Rule ["+r+"] not registered";let i=[];return i.push.apply(i,t),i.push(this.getRules()),this.validatorBuilders[r].apply(null,i)}_autoTrim(r){let t=typeof r;if(t!=="object"&&r)return r.replace?r.replace(/^\s*/,"").replace(/\s*$/,""):r;if(t=="object"&&Array.isArray(r)){let i=[];for(let s of r)i.push(this._autoTrim(s));return i}else if(t=="object"&&B.isObject(r)){let i={};for(let s in r)r.hasOwnProperty(s)&&(i[s]=this._autoTrim(r[s]));return i}return r}};lr.exports=W});var fr=n((ri,ar)=>{var tt=o();function it(){return e=>{if(tt.isNoValue(e))return"REQUIRED"}}ar.exports=it});var hr=n((ei,cr)=>{function st(){return e=>{if(e!=null&&e==="")return"CANNOT_BE_EMPTY"}}cr.exports=st});var mr=n((ti,pr)=>{function ut(){return e=>{if(e===void 0||e==="")return"CANNOT_BE_EMPTY";if(!Array.isArray(e))return"FORMAT_ERROR";if(e.length<1)return"CANNOT_BE_EMPTY"}}pr.exports=ut});var _r=n((ii,dr)=>{var Rr=o();function nt(){return e=>{if(!Rr.isNoValue(e)&&!Rr.isObject(e))return"FORMAT_ERROR"}}dr.exports=nt});var Er=n((si,gr)=>{var Or=o();function ot(){return(e,r,t)=>{if(!Or.isNoValue(e)){if(!Or.isPrimitiveValue(e))return"FORMAT_ERROR";t.push(e+"")}}}gr.exports=ot});var Tr=n((ui,Ar)=>{var qr=o();function lt(e){return(r,t,i)=>{if(!qr.isNoValue(r)){if(!qr.isPrimitiveValue(r))return"FORMAT_ERROR";if(r+""==e+""){i.push(e);return}return"NOT_ALLOWED_VALUE"}}}Ar.exports=lt});var br=n((ni,Vr)=>{var Nr=o();function at(e){return Array.isArray(e)||(e=Array.prototype.slice.call(arguments),e.pop()),(r,t,i)=>{if(!Nr.isNoValue(r)){if(!Nr.isPrimitiveValue(r))return"FORMAT_ERROR";for(let s of e)if(r+""==s+""){i.push(s);return}return"NOT_ALLOWED_VALUE"}}}Vr.exports=at});var Mr=n((oi,xr)=>{var yr=o();function ft(e){return(r,t,i)=>{if(!yr.isNoValue(r)){if(!yr.isPrimitiveValue(r))return"FORMAT_ERROR";if(r+="",r.length>e)return"TOO_LONG";i.push(r)}}}xr.exports=ft});var Pr=n((li,Lr)=>{var Fr=o();function ct(e){return(r,t,i)=>{if(!Fr.isNoValue(r)){if(!Fr.isPrimitiveValue(r))return"FORMAT_ERROR";if(r+="",r.length<e)return"TOO_SHORT";i.push(r)}}}Lr.exports=ct});var kr=n((ai,Ir)=>{var wr=o();function ht(e){return(r,t,i)=>{if(!wr.isNoValue(r)){if(!wr.isPrimitiveValue(r))return"FORMAT_ERROR";if(r+="",r.length<e)return"TOO_SHORT";if(r.length>e)return"TOO_LONG";i.push(r)}}}Ir.exports=ht});var Sr=n((fi,Dr)=>{var jr=o();function pt(e,r){return(t,i,s)=>{if(!jr.isNoValue(t)){if(!jr.isPrimitiveValue(t))return"FORMAT_ERROR";if(t+="",t.length<e)return"TOO_SHORT";if(t.length>r)return"TOO_LONG";s.push(t)}}}Dr.exports=pt});var Br=n((ci,Gr)=>{var Cr=o();function mt(e,r){let t=arguments.length===3&&r.match("i"),i=new RegExp(e,t?"i":"");return(s,a,l)=>{if(!Cr.isNoValue(s)){if(!Cr.isPrimitiveValue(s))return"FORMAT_ERROR";if(s+="",!s.match(i))return"WRONG_FORMAT";l.push(s)}}}Gr.exports=mt});var Wr=n((hi,Ur)=>{var K=o();function Rt(){return(e,r,t)=>{if(!K.isNoValue(e)){if(!K.isPrimitiveValue(e))return"FORMAT_ERROR";if(!K.looksLikeNumber(e)||!Number.isInteger(+e))return"NOT_INTEGER";t.push(+e)}}}Ur.exports=Rt});var zr=n((pi,$r)=>{var J=o();function dt(){return(e,r,t)=>{if(!J.isNoValue(e)){if(!J.isPrimitiveValue(e))return"FORMAT_ERROR";if(!J.looksLikeNumber(e)||!Number.isInteger(+e)||+e<1)return"NOT_POSITIVE_INTEGER";t.push(+e)}}}$r.exports=dt});var vr=n((mi,Hr)=>{var X=o();function _t(){return(e,r,t)=>{if(!X.isNoValue(e)){if(!X.isPrimitiveValue(e))return"FORMAT_ERROR";if(!X.looksLikeNumber(e)||(e+="",!/^(?:\-?(?:(?:[0-9]+\.[0-9]+)|(?:[0-9]+)))$/.test(e)))return"NOT_DECIMAL";t.push(+e)}}}Hr.exports=_t});var Qr=n((Ri,Yr)=>{var rr=o();function Ot(){return(e,r,t)=>{if(!rr.isNoValue(e)){if(!rr.isPrimitiveValue(e))return"FORMAT_ERROR";if(!rr.looksLikeNumber(e)||Number.isNaN(+e)||+e<=0)return"NOT_POSITIVE_DECIMAL";t.push(+e)}}}Yr.exports=Ot});var Kr=n((di,Zr)=>{var er=o();function gt(e){return(r,t,i)=>{if(!er.isNoValue(r)){if(!er.isPrimitiveValue(r))return"FORMAT_ERROR";if(!er.looksLikeNumber(r))return"NOT_NUMBER";if(+r>+e)return"TOO_HIGH";i.push(+r)}}}Zr.exports=gt});var Xr=n((_i,Jr)=>{var tr=o();function Et(e){return(r,t,i)=>{if(!tr.isNoValue(r)){if(!tr.isPrimitiveValue(r))return"FORMAT_ERROR";if(!tr.looksLikeNumber(r))return"NOT_NUMBER";if(+r<+e)return"TOO_LOW";i.push(+r)}}}Jr.exports=Et});var ee=n((Oi,re)=>{var ir=o();function qt(e,r){return(t,i,s)=>{if(!ir.isNoValue(t)){if(!ir.isPrimitiveValue(t))return"FORMAT_ERROR";if(!ir.looksLikeNumber(t))return"NOT_NUMBER";if(+t<+e)return"TOO_LOW";if(+t>+r)return"TOO_HIGH";s.push(+t)}}}re.exports=qt});var se=n((gi,ie)=>{var te=o();function At(){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r=>{if(!te.isNoValue(r)){if(!te.isPrimitiveValue(r))return"FORMAT_ERROR";if(r+="",!e.test(r)||/\@.*\@/.test(r)||/\@.*_/.test(r))return"WRONG_EMAIL"}}}ie.exports=At});var oe=n((Ei,ne)=>{var ue=o();function Tt(e){return(r,t)=>{if(!ue.isNoValue(r)){if(!ue.isPrimitiveValue(r))return"FORMAT_ERROR";if(r!=t[e])return"FIELDS_NOT_EQUAL"}}}ne.exports=Tt});var fe=n((qi,ae)=>{var le=o();function Nt(){let e="^(?:(?:http|https)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[0-1]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))\\.?|localhost)(?::\\d{2,5})?(?:[/?#]\\S*)?$",r=new RegExp(e,"i");return t=>{if(!le.isNoValue(t)){if(!le.isPrimitiveValue(t))return"FORMAT_ERROR";if(!(t.length<2083&&r.test(t)))return"WRONG_URL"}}}ae.exports=Nt});var pe=n((Ai,he)=>{var ce=o();function Vt(){return e=>{if(ce.isNoValue(e))return;if(!ce.isPrimitiveValue(e))return"FORMAT_ERROR";let r=e.match(/^(\d{4})-([0-1][0-9])-([0-3][0-9])$/);if(r){let t=Date.parse(e);if(!t&&t!==0)return"WRONG_DATE";let i=new Date(t);if(i.setTime(i.getTime()+i.getTimezoneOffset()*60*1e3),i.getFullYear()==r[1]&&i.getMonth()+1==+r[2]&&i.getDate()==+r[3])return}return"WRONG_DATE"}}he.exports=Vt});var de=n((Ti,Re)=>{var bt=_(),me=o();function yt(e,r){let t=new bt(e).registerRules(r).prepare();return(i,s,a)=>{if(me.isNoValue(i))return;if(!me.isObject(i))return"FORMAT_ERROR";let l=t.validate(i);if(l){a.push(l);return}else return t.getErrors()}}Re.exports=yt});var ge=n((Ni,Oe)=>{var xt=_(),_e=o();function Mt(e,r,t){let i={};for(let s in r){let a=new xt(r[s]).registerRules(t).prepare();i[s]=a}return(s,a,l)=>{if(_e.isNoValue(s))return;if(!_e.isObject(s)||!s[e]||!i[s[e]])return"FORMAT_ERROR";let h=i[s[e]],p=h.validate(s);if(p){l.push(p);return}else return h.getErrors()}}Oe.exports=Mt});var qe=n((Vi,Ee)=>{var Ft=_(),Lt=o();function Pt(e,r){Array.isArray(e)||(e=Array.prototype.slice.call(arguments),r=e.pop());let t={field:e},i=new Ft(t).registerRules(r).prepare();return(s,a,l)=>{if(Lt.isNoValue(s))return;if(!Array.isArray(s))return"FORMAT_ERROR";let h=[],p=[],m=!1;for(let R of s){let x=i.validate({field:R});x?(h.push(x.field),p.push(null)):(m=!0,p.push(i.getErrors().field),h.push(null))}if(m)return p;l.push(h)}}Ee.exports=Pt});var Te=n((bi,Ae)=>{var wt=_(),It=o();function kt(e,r){let t=new wt(e).registerRules(r).prepare();return(i,s,a)=>{if(It.isNoValue(i))return;if(!Array.isArray(i))return"FORMAT_ERROR";let l=[],h=[],p=!1;for(let m of i){let R=t.validate(m);R?(l.push(R),h.push(null)):(p=!0,h.push(t.getErrors()),l.push(null))}if(p)return h;a.push(l)}}Ae.exports=kt});var Ve=n((yi,Ne)=>{var jt=_();function Dt(){let e=Array.prototype.slice.call(arguments),r=e.pop(),t=e.map(i=>{let s={field:i};return new jt(s).registerRules(r).prepare()});return(i,s,a)=>{let l;for(let h of t){let p=h.validate({field:i});if(p){a.push(p.field);return}else l=h.getErrors().field}return l}}Ne.exports=Dt});var ye=n((xi,be)=>{var St=_(),Ct=o();function Gt(e,r,t){let i={};for(let s in r){let a=new St(r[s]).registerRules(t).prepare();i[s]=a}return(s,a,l)=>{if(Ct.isNoValue(s))return;if(!Array.isArray(s))return"FORMAT_ERROR";let h=[],p=[],m=!1;for(let R of s){if(typeof R!="object"||!R[e]||!i[R[e]]){p.push("FORMAT_ERROR");continue}let x=i[R[e]],sr=x.validate(R);sr?(h.push(sr),p.push(null)):(m=!0,p.push(x.getErrors()),h.push(null))}if(m)return p;l.push(h)}}be.exports=Gt});var Me=n((Mi,xe)=>{var Bt=o();xe.exports=e=>(r,t,i)=>{Bt.isNoValue(r)&&i.push(e)}});var Le=n((Fi,Fe)=>{var Ut=o();function Wt(){return(e,r,t)=>{Ut.isNoValue(e)||typeof e=="object"||(e+="",t.push(e.replace(/^\s*/,"").replace(/\s*$/,"")))}}Fe.exports=Wt});var we=n((Li,Pe)=>{var $t=o();function zt(){return(e,r,t)=>{$t.isNoValue(e)||typeof e=="object"||(e+="",t.push(e.toLowerCase()))}}Pe.exports=zt});var ke=n((Pi,Ie)=>{var Ht=o();function vt(){return(e,r,t)=>{Ht.isNoValue(e)||typeof e=="object"||(e+="",t.push(e.toUpperCase()))}}Ie.exports=vt});var Se=n((wi,De)=>{var je=o();function Yt(e){e=je.escapeRegExp(e);let r=new RegExp("["+e+"]","g");return(t,i,s)=>{je.isNoValue(t)||typeof t=="object"||(t+="",s.push(t.replace(r,"")))}}De.exports=Yt});var Be=n((Ii,Ge)=>{var Ce=o();function Qt(e){e=Ce.escapeRegExp(e);let r=new RegExp("[^"+e+"]","g");return(t,i,s)=>{Ce.isNoValue(t)||typeof t=="object"||(t+="",s.push(t.replace(r,"")))}}Ge.exports=Qt});var ze=n((ki,$e)=>{var Ue=_(),Zt=o(),We={required:fr(),not_empty:hr(),not_empty_list:mr(),any_object:_r(),string:Er(),eq:Tr(),one_of:br(),max_length:Mr(),min_length:Pr(),length_equal:kr(),length_between:Sr(),like:Br(),integer:Wr(),positive_integer:zr(),decimal:vr(),positive_decimal:Qr(),max_number:Kr(),min_number:Xr(),number_between:ee(),email:se(),equal_to_field:oe(),url:fe(),iso_date:pe(),nested_object:de(),variable_object:ge(),list_of:qe(),list_of_objects:Te(),or:Ve(),list_of_different_objects:ye(),default:Me(),trim:Le(),to_lc:we(),to_uc:ke(),remove:Se(),leave_only:Be()};Ue.registerDefaultRules(We);$e.exports={Validator:Ue,rules:We,util:Zt}});var $=et(ze()),d,O,V,A,M,F,L,g,b,E,P,w,I,q,T,y,k,j,D,S,z,H,v,Y,C,Q,Z,He=class{constructor(r,{errorClass:t="formurai-error",successClass:i="formurai-success",wrapperClass:s="formurai-container",errorMessageClass:a="formurai-message",withWrapper:l=!0,autoTrim:h=!0,vibrate:p=!0,notSubmit:m=!1,multiStep:R=!1}={}){f(this,d,void 0);f(this,O,void 0);f(this,V,void 0);f(this,A,void 0);f(this,M,void 0);f(this,F,void 0);f(this,L,void 0);f(this,g,void 0);f(this,b,void 0);f(this,E,void 0);f(this,P,void 0);f(this,w,void 0);f(this,I,void 0);f(this,q,void 0);f(this,T,void 0);f(this,y,void 0);f(this,k,void 0);N(this,"init",(r,t={},i=!1)=>{if(!i&&u(this,g))throw"Multi step validation need initial state!";c(this,y,r),c(this,O,t),u(this,g)?u(this,j).call(this,i):(this.validator=new $.default.Validator(r),c(this,q,Object.keys(r)),c(this,V,u(this,O))),u(this,d).addEventListener("submit",u(this,D))});N(this,"destroy",()=>{this.validator=null,c(this,q,[]),c(this,O,{}),u(this,d).removeEventListener("submit",u(this,D))});N(this,"changeState",r=>{if(u(this,g))u(this,j).call(this,r);else if(!u(this,g))throw"changeState method only works with multi step forms!"});N(this,"checkForm",()=>{let r=this.formData;this.validator.validate(r)?(c(this,T,{}),c(this,A,!0),u(this,S).call(this)):(c(this,T,this.validator.getErrors()),c(this,A,!1),u(this,H).call(this),u(this,v).call(this))});N(this,"addRule",r=>{if(!r)return;let t=Array.isArray(r);c(this,k,r),t?r.forEach(i=>this.validator.registerAliasedRule({...i})):this.validator.registerAliasedRule({...r})});f(this,j,r=>{this.validator=null,this.validator=new $.default.Validator(u(this,y)[r]),c(this,q,Object.keys(u(this,y)[r])),this.addRule(u(this,k)),c(this,V,u(this,O)[r])});f(this,D,r=>{if(r.preventDefault(),this.checkForm(),this.isFormValid)u(this,d).submit();else{if(u(this,L))return;this.isFormValid||u(this,Q).call(this)}console.log(this.formData)});f(this,S,()=>{document.querySelectorAll(`.${u(this,E)}`).forEach(t=>t.classList.remove(u(this,E)))});f(this,z,r=>{r&&(r.classList.remove(u(this,b)),r.classList.add(u(this,E)))});f(this,H,()=>{u(this,S).call(this);let r=Object.keys(this.errors);r.length&&r.forEach(t=>{let i=u(this,d).querySelector(`[name="${t}"]`),s=u(this,C).call(this,i);u(this,z).call(this,s),u(this,Y).call(this,s,t)})});f(this,v,()=>{u(this,q).forEach(r=>{let t=u(this,d).querySelector(`[name="${r}"]`),i=u(this,C).call(this,t);i.classList.contains(u(this,E))||i.classList.add(u(this,b))})});f(this,Y,(r,t)=>{var l,h;let i=this.errors[t],s=(h=(l=u(this,V))==null?void 0:l[t])==null?void 0:h[i],a=r==null?void 0:r.querySelector(`.${u(this,w)}`);i&&s&&a&&(a.innerText=s)});f(this,C,r=>u(this,I)?r.closest(`.${u(this,P)}`):r);f(this,Q,()=>{window.navigator.vibrate&&u(this,F)&&window.navigator.vibrate([300,100,300])});f(this,Z,()=>{u(this,M)&&$.default.Validator.defaultAutoTrim(!0)});c(this,d,r),c(this,M,h),c(this,F,p),c(this,L,m),c(this,g,R),c(this,b,i),c(this,E,t),c(this,P,s),c(this,w,a),c(this,I,l),c(this,T,{}),c(this,q,[]),c(this,O,{}),c(this,A,!1),u(this,Z).call(this)}get formData(){let r=new FormData(u(this,d)),t={};return r.forEach((i,s)=>{t[s]=i}),t}get errors(){return u(this,T)}get isFormValid(){return u(this,A)}};d=new WeakMap,O=new WeakMap,V=new WeakMap,A=new WeakMap,M=new WeakMap,F=new WeakMap,L=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,P=new WeakMap,w=new WeakMap,I=new WeakMap,q=new WeakMap,T=new WeakMap,y=new WeakMap,k=new WeakMap,j=new WeakMap,D=new WeakMap,S=new WeakMap,z=new WeakMap,H=new WeakMap,v=new WeakMap,Y=new WeakMap,C=new WeakMap,Q=new WeakMap,Z=new WeakMap;var ji=He;})();
//# sourceMappingURL=index.js.map
